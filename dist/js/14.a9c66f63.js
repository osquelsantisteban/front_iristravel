"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[14],{4128:function(t,e,a){a(7658);var s=a(809);const l={async getSearchInfo(){try{const t=await this.getHotels(),e=await this.getDestinations();return{hotels:t||[],destinations:e||[]}}catch(t){console.log(t)}},async getHotels(t){try{const e=void 0==t?"/hotels":`/hotels/by-pole/${t}`,a=[],l=await s.Z.checkLogin(e);if(l&&200==l.status)for(let t of l.data)a.push({label:t.alias,value:t.id});return a}catch(e){console.log(e)}},async getDestinations(){try{const{status:t,data:e}=await s.Z.checkLogin("/poles");if(200==t){const t=[];for(let a of e)t.push({label:a.alias,value:a.id});return t}}catch(t){console.log(t)}},async getOffers(){try{const t=await s.Z.checkLogin("/offers"),e=[];if(t){if(200!=t.status)return{success:!1,errors:"Fail check login"};for(let a of t.data)if(a.active){const t={id:a.id,name:a.title,keyword:a.keyword,description:a.description,info:a.info,price:a.price_from,country:"Cuba",btn:"contactar"};if("image"in a)for(let e of a.image[0].resources)"original"==e.image&&(t.img=e.url);e.push(t)}}return e}catch(t){console.log(t)}}};e["Z"]=l},2078:function(t,e,a){a.d(e,{Z:function(){return q}});var s=a(3396),l=a(7139);const o=t=>((0,s.dD)("data-v-7ff86736"),t=t(),(0,s.Cn)(),t),r={class:"relative"},i={class:"flex flex-col gap-y-3"},n={class:"text"},c={class:"flex justify-center"},d=["onClick"],u=o((()=>(0,s._)("i",{class:"fa fa-minus"},null,-1))),f=[u],m=o((()=>(0,s._)("i",{class:"fa fa-plus"},null,-1))),p=[m],h=o((()=>(0,s._)("i",{class:"fa fa-times"},null,-1))),_=[h];function g(t,e,a,o,u,m){const h=(0,s.up)("number-imput");return(0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.r,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"rooms-obj flex md:flex-row flex-col gap-x-3 gap-y-6 py-4",key:o},[(0,s._)("div",i,[(0,s._)("small",n,"Habitación "+(0,l.zw)(o+1),1),(0,s._)("div",c,[(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange_1 px-2 py-1 mx-2",onClick:t=>m.subRoom(o)},f,8,d),(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange_1 px-2 py-1 mx-2",onClick:e[0]||(e[0]=(...t)=>m.addRoom&&m.addRoom(...t))},p)])]),(0,s.Wm)(h,{title:"Adultos",min:1,valor:a.r[o].adults,id:o,onUpdVal:m.updAdult},null,8,["valor","id","onUpdVal"]),(0,s.Wm)(h,{title:"Niños",valor:a.r[o].children,id:o,onUpdVal:m.updChildren},null,8,["valor","id","onUpdVal"])])))),128)),(0,s._)("span",{class:"absolute top-0 right-0 cursor-pointer h-auto",onClick:e[1]||(e[1]=(...t)=>m.closePerson&&m.closePerson(...t))},_)])}const b={class:"flex flex-col gap-y-3"},v={class:"text"},x={class:"flex justify-center"},y=(0,s._)("i",{class:"fa fa-minus"},null,-1),w=[y],D={class:"w-2/6 border text-gray text-center px-4 py-1"},k=(0,s._)("i",{class:"fa fa-plus"},null,-1),S=[k];function C(t,e,a,o,r,i){return(0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("small",v,(0,l.zw)(a.title),1),(0,s._)("div",x,[(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange_1 px-2 py-1 mx-2",onClick:e[0]||(e[0]=(...t)=>i.sub&&i.sub(...t))},w),(0,s._)("span",D,(0,l.zw)(r.val),1),(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange_1 px-2 py-1 mx-2",onClick:e[1]||(e[1]=(...t)=>i.add&&i.add(...t))},S)])])}var R={name:"NumberImput",props:{title:{require:!1,default:"Title"},max:{require:!1,default:3},min:{require:!1,default:0},id:{require:!1,default:0},valor:{default:0}},data(){return{val:this.min}},watch:{val(t){this.$emit("updVal",{val:t,id:this.id})}},methods:{add(){this.val=this.val==this.max?this.max:this.val+1},sub(){this.val=this.val==this.min?this.min:this.val-1}}},Y=a(89);const Z=(0,Y.Z)(R,[["render",C]]);var V=Z,M={name:"NumPerson",props:{r:{}},components:{NumberImput:V},data(){return{comb:{adults:0,children:0,infants:0},value:0}},methods:{updAdult(t){const e=this.r;e[t.id].adults=t.val,this.$emit("updRoomComb",e)},updChildren(t){const e=this.r;e[t.id].children=t.val,this.$emit("updRoomComb",e)},addRoom(){this.$emit("addRoom",{action:"add"})},subRoom(t){this.r.length>1&&this.$emit("subRoom",{action:"del",pos:t})},closePerson(){this.$emit("close",!1)}}};const j=(0,Y.Z)(M,[["render",g],["__scopeId","data-v-7ff86736"]]);var q=j},6014:function(t,e,a){a.d(e,{Z:function(){return V}});var s=a(3396),l=a(7139);const o=t=>((0,s.dD)("data-v-14efc47a"),t=t(),(0,s.Cn)(),t),r={class:"bg-white pb-12"},i={class:"container md:w-5/12 relative pt-10 m-auto"},n=o((()=>(0,s._)("i",{class:"fa fa-search"},null,-1))),c={key:0,class:"fa fa-times"},d={class:"flex flex-col gap-y-3 text-center"},u={class:"w-full text-white flex flex-col justify-around items-center gap-6 md:flex-row"},f={class:"relative w-11/12 border border-white text-base py-4 mt-auto md:px-6 md:py-2"},m={class:"flex flex-col items-center justify-around gap-x-2 md:flex-row"},p=o((()=>(0,s._)("i",{class:"fas fa-door-open"},null,-1))),h=o((()=>(0,s._)("i",{class:"fa fa-user"},null,-1))),_=o((()=>(0,s._)("i",{class:"fas fa-edit"},null,-1))),g=[_],b=o((()=>(0,s._)("div",{class:"px-6 pt-4 md:ml-auto"},[(0,s._)("button",{type:"submit",class:"px-12 py-1 text-xl text-white uppercase bg-orange_1",value:"buscar"},"Buscar")],-1)));function v(t,e,a,o,_,v){const x=(0,s.up)("Multiselect"),y=(0,s.up)("Datepicker"),w=(0,s.up)("stars"),D=(0,s.up)("num-person");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",i,[(0,s._)("div",{onClick:e[0]||(e[0]=t=>_.visible=!_.visible),class:"flex gap-x-3 justify-center items-center w-[90%] lg:w-[70%] border-[1pt] border-blue_1 cursor-pointer text-lg text-blue_1 m-auto py-2 md:text-xl"},[n,(0,s._)("h1",null,(0,l.zw)(a.title),1),_.visible?((0,s.wg)(),(0,s.iD)("i",c)):(0,s.kq)("",!0)]),(0,s._)("form",{id:"searchForm",class:(0,l.C_)([{"visible-form":_.visible},"hidden w-11/12 md:w-full border border-white text-base tracking-wider shadow-2xl font-semibold m-auto p-4"]),onSubmit:e[6]||(e[6]=(...t)=>v.formSubmit&&v.formSubmit(...t))},[(0,s._)("div",d,[(0,s.Wm)(x,{modelValue:_.formData.destination,"onUpdate:modelValue":e[1]||(e[1]=t=>_.formData.destination=t),mode:"single",searchable:!0,options:_.destinations,placeholder:"Seleccione destino",classes:_.select_style_opt,onSelect:v.updHotelOptions},null,8,["modelValue","options","classes","onSelect"]),(0,s.Wm)(x,{modelValue:_.formData.hotel,"onUpdate:modelValue":e[2]||(e[2]=t=>_.formData.hotel=t),mode:"single",searchable:!0,options:_.hotels,disabled:t.disabled,classes:_.select_style_opt,placeholder:"Seleccione el hotel (opcional)"},null,8,["modelValue","options","disabled","classes"]),(0,s.Wm)(y,{class:"datepicker-container",placeholder:"Fecha de entrada y salida",modelValue:_.date,"onUpdate:modelValue":[e[3]||(e[3]=t=>_.date=t),v.handleDate],format:"dd/MM/yyyy",range:"","multi-calendars":"","auto-apply":"","enable-time-picker":!1,"close-on-auto-apply":!0},null,8,["modelValue","onUpdate:modelValue"]),(0,s._)("div",u,[(0,s.Wm)(w,{onGetStar:v.updStar,star_init:_.formData.stars,star_style:"block"},null,8,["onGetStar","star_init"]),(0,s._)("div",f,[(0,s._)("div",m,[p,(0,s._)("span",null,(0,l.zw)(_.noRooms)+" Habitacion ",1),h,(0,s._)("span",null,(0,l.zw)(v.numperson)+" Personas ",1),(0,s._)("div",{class:"cursor-pointer text-orange_1 text-xl md:ml-auto",onClick:e[4]||(e[4]=t=>_.visible_person=!_.visible_person)},g)]),(0,s._)("div",{id:"rooms",class:(0,l.C_)(["absolute right-0 top-50 bg-white text-dark_gray_1 border-light_gray_1 px-3",{"visible-numperson":_.visible_person}])},[(0,s.Wm)(D,{r:this.formData.rooms,onClose:e[5]||(e[5]=t=>_.visible_person=!1),onAddRoom:v.updNumRooms,onSubRoom:v.updNumRooms},null,8,["r","onAddRoom","onSubRoom"])],2)])])]),b],34)])])}a(7658);var x=a(4128),y=a(6797),w=a.n(y),D=a(9810),k=a(2078),S=a(4024),C=a(9024),R={name:"SearcherComp",props:{title:{require:!1,default:"Busca vacaciones a la medida",disabled:!0}},components:{Multiselect:D.Z,NumPerson:k.Z,Stars:S.Z,Datepicker:C.Z},data(){return{activeTerm:!1,visible:!1,visible_person:!1,default_date:"20-01-022 ~ 20-02-2022",select_style_opt:{container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-blue_1 bg-white text-base leading-snug outline-none",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-white pl-2 rtl:pl-0 rtl:pr-3.5",placeholder:"flex items-center w-full h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",optionSelected:"text-white bg-light_gray_1"},date:{},formData:{rooms:[{adults:1,children:0,infants:0}],dateRange:{startDate:w()().add(3,"days").format("DD MMM YYYY"),endDate:w()().add(4,"days").format("DD MMM YYYY")},destination:{value:"",label:""},hotel:{value:"",label:""},stars:3},destinations:[],hotels:[],noRooms:1}},created(){this.init()},computed:{numperson(){let t=0;for(let e of this.formData.rooms)t+=e.adults+e.children;return t}},methods:{init(){x.Z.getSearchInfo().then((t=>{if(this.destinations=t.destinations,this.hotels=t.hotels,localStorage.getItem("searchform")){const t=JSON.parse(localStorage.getItem("searchform"));this.date=[new Date(w()(t.dateRange.startDate)),new Date(w()(t.dateRange.endDate))],this.formData.dateRange=[t.dateRange.startDate,t.dateRange.endDate],this.formData.destination=t.destination,this.formData.hotel=t.hotel,this.formData.stars=t.stars,this.formData.rooms=[],this.noRooms=t.rooms.length;for(let e of t.rooms)this.formData.rooms.push({adults:e.adults,children:e.children,infants:e.infants})}}))},formSubmit(t){t.preventDefault(),localStorage.clear(),console.log(this.formData),localStorage.setItem("searchform",JSON.stringify(this.formData)),"/resultado-de-busqueda"!=this.$route.fullPath?this.$router.push({name:"SearchResult"}):this.$emit("updparams")},handleDate(t){this.formData.dateRange={},this.formData.dateRange.startDate=w()(t[0].toString()).format("YYYY-MM-DD"),this.formData.dateRange.endDate=w()(t[1].toString()).format("YYYY-MM-DD")},updStar(t){this.formData.starts=t},updNumRooms(t){"add"==t.action?this.formData.rooms.push({adults:1,children:0,infants:0}):"del"==t.action&&this.formData.rooms.splice(t.pos,1),this.noRooms=this.formData.rooms.length},updHotelOptions(t){this.formData.destination=t,x.Z.getHotels(t).then((t=>{0===t.length?this.disabled=!0:this.disabled=!1,this.formData.hotel={},this.hotels=[],this.hotels=t}))}}},Y=a(89);const Z=(0,Y.Z)(R,[["render",v],["__scopeId","data-v-14efc47a"]]);var V=Z},4024:function(t,e,a){a.d(e,{Z:function(){return P}});var s=a(3396),l=a(7139),o=a(9242);const r=t=>((0,s.dD)("data-v-3b6b6e71"),t=t(),(0,s.Cn)(),t),i={key:0,class:"grid gap-2 text-left text-base"},n=r((()=>(0,s._)("span",{class:"font-semibold"},"Categoria de Hotel",-1))),c={class:"stars flex gap-x-2 cursor-pointer"},d={key:1,class:"flex"},u={class:"relative text-2xl font-thin flex justify-center"},f=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),m={class:"absolute text-orange_1 text-base"},p=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),h=[p],_={class:"relative text-2xl font-thin flex justify-center"},g=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),b={class:"absolute text-orange_1 text-base"},v=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),x=[v],y={class:"relative text-2xl font-thin flex justify-center"},w=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),D={class:"absolute text-orange_1 text-base"},k=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),S=[k],C={class:"relative text-2xl font-thin flex justify-center"},R=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),Y={class:"absolute text-orange_1 text-base"},Z=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),V=[Z],M={class:"relative text-2xl font-thin flex justify-center"},j=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),q={class:"absolute text-orange_1 text-base"},$=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),I=[$];function N(t,e,a,r,p,v){return(0,s.wg)(),(0,s.iD)("div",null,["block"==a.star_style?((0,s.wg)(),(0,s.iD)("div",i,[n,(0,s._)("div",c,[(0,s._)("span",{class:(0,l.C_)([{"yellow-star":p.active_star>=1},"bg-star w-8 h-8"]),onClick:e[0]||(e[0]=t=>v.toggleStar(1))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":p.active_star>=2},"bg-star w-8 h-8"]),onClick:e[1]||(e[1]=t=>v.toggleStar(2))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":p.active_star>=3},"bg-star w-8 h-8"]),onClick:e[2]||(e[2]=t=>v.toggleStar(3))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":p.active_star>=4},"bg-star w-8 h-8"]),onClick:e[3]||(e[3]=t=>v.toggleStar(4))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":5==p.active_star},"bg-star w-8 h-8"]),onClick:e[4]||(e[4]=t=>v.toggleStar(5))},null,2)])])):(0,s.kq)("",!0),"block"!=a.star_style?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[f,(0,s.wy)((0,s._)("span",m,h,512),[[o.F8,p.active_star>=1]])]),(0,s._)("div",_,[g,(0,s.wy)((0,s._)("span",b,x,512),[[o.F8,p.active_star>=2]])]),(0,s._)("div",y,[w,(0,s.wy)((0,s._)("span",D,S,512),[[o.F8,p.active_star>=3]])]),(0,s._)("div",C,[R,(0,s.wy)((0,s._)("span",Y,V,512),[[o.F8,p.active_star>=4]])]),(0,s._)("div",M,[j,(0,s.wy)((0,s._)("span",q,I,512),[[o.F8,p.active_star>=5]])])])):(0,s.kq)("",!0)])}var H={name:"StarsComp",props:{star_style:{require:!1,default:"blocks"},star_init:{require:!1,default:3}},data(){return{active_star:this.star_init}},methods:{toggleStar(t){this.active_star=t,this.$emit("getStar",t)}}},F=a(89);const U=(0,F.Z)(H,[["render",N],["__scopeId","data-v-3b6b6e71"]]);var P=U}}]);
//# sourceMappingURL=14.a9c66f63.js.map