"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[571],{7986:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var r=t(3396),s=t(9242),l=t(7139);const o=e=>((0,r.dD)("data-v-104cb002"),e=e(),(0,r.Cn)(),e),n={class:"bg-white text-white pt-4"},d={class:"bg-blue pb-12"},i=o((()=>(0,r._)("h2",{class:"text-3xl py-6 text-white md:text-6xl lg:text-4xl"},"- Crear nueva cuenta -",-1))),p={class:"container border-dashed border-2 rounded border-white p-5"},u=o((()=>(0,r._)("h3",{class:"w-full text-left border-b font-bold text-2xl pb-2"},"Informacion Personal",-1))),c={class:"flex flex-wrap gap-y-6 gap-x-3 w-full"},m={class:"flex flex-col items-start w-full"},x=o((()=>(0,r._)("h4",{class:"w-full text-left pb-3"},"Genero *",-1))),f={class:"flex border rounded-4xl items-start gap-x-6 p-3"},_=o((()=>(0,r._)("h3",{class:"w-full text-left border-b font-bold text-2xl pb-2"},"Seguridad",-1))),g={class:"flex gap-x-3 w-full text-left font-bold text-2xl pb-2"},h=["type"],b=["type"],y={class:"flex items-center gap-x-4"},w=o((()=>(0,r._)("i",{class:"fas fa-eye-slash"},null,-1))),v=[w],D=o((()=>(0,r._)("i",{class:"fas fa-eye"},null,-1))),k=[D],U={class:"text-red-700"},V=o((()=>(0,r._)("hr",null,null,-1))),C=o((()=>(0,r._)("h3",{class:"w-full text-left border-b font-bold text-2xl pb-2"},"Direcciones",-1))),B={class:"flex flex-wrap gap-y-6 gap-x-3 w-full"},q=o((()=>(0,r._)("hr",null,null,-1))),F=o((()=>(0,r._)("h3",{class:"w-full text-left border-b font-bold text-2xl pb-2"},"Informacion de Agencia",-1))),z=o((()=>(0,r._)("label",{for:"is_agent"},"Agente de viaje",-1))),S={class:"flex gap-3 w-full"},T={class:"flex flex-col text-left w-full py-6"},Z=o((()=>(0,r._)("small",null," Los campos obligatorios marcados con un (*) deben ser rellenados. ",-1))),A={key:0,class:"error-message my-3 items-center gap-3 px-4"},E=o((()=>(0,r._)("span",{class:"text-4xl"},[(0,r._)("i",{class:"fa fa-times-circle"})],-1))),G={class:"text-xl self-center px-2"},I={key:1,class:"success-message my-3 items-center gap-3 px-4"},M=o((()=>(0,r._)("span",{class:"text-4xl"},[(0,r._)("i",{class:"fa fa-check-circle"})],-1))),P=o((()=>(0,r._)("h5",{class:"text-xl self-center"},"Se creó el usuario exitosamente!!!.",-1))),L={key:0,class:"text-lg"},N=o((()=>(0,r._)("button",{type:"submit",class:"uppercase bg-orange text-white border border-orange text-xl rounded-4xl font-bold ml-auto px-12 py-1 hover:bg-darkBlue hover:text-orange"}," Enviar ",-1)));function j(e,a,t,o,w,D){const j=(0,r.up)("Multiselect");return(0,r.wg)(),(0,r.iD)("section",n,[(0,r._)("div",d,[i,(0,r._)("div",p,[(0,r._)("form",{class:"flex gap-x-3 gap-y-6 flex-wrap shadow-round bg-darkBlue text-xl px-10 py-8",onSubmit:a[18]||(a[18]=(...e)=>D.submitForm&&D.submitForm(...e))},[u,(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{name:"first_name",type:"text",placeholder:"Nombre *",required:"","onUpdate:modelValue":a[0]||(a[0]=e=>w.formData.first_name=e),class:"w-5/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.first_name]]),(0,r.wy)((0,r._)("input",{name:"email",type:"email",placeholder:"E-Mail *",required:"","onUpdate:modelValue":a[1]||(a[1]=e=>w.formData.email=e),class:"w-4/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.email]]),(0,r.wy)((0,r._)("input",{name:"last_name",type:"text",placeholder:"Apellido *",required:"","onUpdate:modelValue":a[2]||(a[2]=e=>w.formData.last_name=e),class:"w-5/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.last_name]]),(0,r.wy)((0,r._)("input",{name:"phone",type:"text",placeholder:"Teléfono","onUpdate:modelValue":a[3]||(a[3]=e=>w.formData.phone=e),class:"w-4/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.phone]]),(0,r._)("div",m,[x,(0,r._)("div",f,[(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{name:"gender",type:"radio",value:"1","onUpdate:modelValue":a[4]||(a[4]=e=>w.formData.gender_id=e)},null,512),[[s.G2,w.formData.gender_id]]),(0,r.Uk)(" Masculino ")]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{name:"gender",type:"radio",value:"2","onUpdate:modelValue":a[5]||(a[5]=e=>w.formData.gender_id=e)},null,512),[[s.G2,w.formData.gender_id]]),(0,r.Uk)(" Femenino ")])])])]),_,(0,r._)("div",g,[(0,r.wy)((0,r._)("input",{name:"password",type:w.showpass?"text":"password",placeholder:"Contraseña *",required:"","onUpdate:modelValue":a[6]||(a[6]=e=>w.formData.password=e),class:"w-3/10 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,8,h),[[s.YZ,w.formData.password]]),(0,r.wy)((0,r._)("input",{name:"repassword",type:w.showpass?"text":"password",placeholder:"Repetir Contraseña *",required:"","onUpdate:modelValue":a[7]||(a[7]=e=>w.repassword=e),class:"w-3/10 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,8,b),[[s.YZ,w.repassword]]),(0,r._)("div",y,[(0,r.wy)((0,r._)("button",{type:"button",onClick:a[8]||(a[8]=e=>w.showpass=!w.showpass)},v,512),[[s.F8,!w.showpass]]),(0,r.wy)((0,r._)("button",{type:"button",onClick:a[9]||(a[9]=e=>w.showpass=!w.showpass)},k,512),[[s.F8,w.showpass]]),(0,r.wy)((0,r._)("small",U,"Las contraseñas deben ser iguales.",512),[[s.F8,!w.samepass]])])]),V,C,(0,r._)("div",B,[(0,r.wy)((0,r._)("input",{name:"address",type:"text",placeholder:"Dirección","onUpdate:modelValue":a[10]||(a[10]=e=>w.formData.address=e),class:"w-8/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.address]]),(0,r.Wm)(j,{modelValue:w.country,"onUpdate:modelValue":a[11]||(a[11]=e=>w.country=e),mode:"single",searchable:!0,options:w.countries,placeholder:"Seleccione País *",classes:w.select_style_opt},null,8,["modelValue","options","classes"]),(0,r.wy)((0,r._)("input",{name:"province",type:"text",placeholder:"Provincia","onUpdate:modelValue":a[12]||(a[12]=e=>w.formData.province=e),class:"w-4/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.province]]),(0,r.wy)((0,r._)("input",{name:"city",type:"text",placeholder:"Ciudad","onUpdate:modelValue":a[13]||(a[13]=e=>w.formData.city=e),class:"w-4/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.city]]),(0,r.wy)((0,r._)("input",{name:"zip_code",type:"text",placeholder:"Codigo Postal","onUpdate:modelValue":a[14]||(a[14]=e=>w.formData.zip_code=e),class:"w-4/12 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.zip_code]])]),q,F,(0,r.wy)((0,r._)("input",{id:"is_agent",name:"is_agent",type:"checkbox","onUpdate:modelValue":a[15]||(a[15]=e=>w.formData.is_agent=e)},null,512),[[s.e8,w.formData.is_agent]]),z,(0,r._)("div",S,[(0,r.wy)((0,r._)("input",{name:"company",type:"text",placeholder:"Compañía","onUpdate:modelValue":a[16]||(a[16]=e=>w.formData.company=e),class:"w-2/7 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.company]]),(0,r.wy)((0,r._)("input",{name:"iata",type:"text",placeholder:"IATA","onUpdate:modelValue":a[17]||(a[17]=e=>w.formData.iata=e),class:"w-2/7 border rounded-4xl text-orange bg-darkBlue text-left px-6 py-2"},null,512),[[s.nr,w.formData.iata]])]),(0,r._)("div",T,[Z,w.error_message?((0,r.wg)(),(0,r.iD)("div",A,[E,(0,r._)("h5",G,[(0,r.Uk)(" Error enviando informacion. No se pudo crear el nuevo usuario "),(0,r._)("p",null,(0,l.zw)(w.error_message_text),1)])])):(0,r.kq)("",!0),w.success_message?((0,r.wg)(),(0,r.iD)("div",I,[M,(0,r._)("div",null,[P,w.formData.is_agent?((0,r.wg)(),(0,r.iD)("p",L,"Se ha enviado un correo a la direccion "+(0,l.zw)(w.formData.email)+" para que el usuario verifique su cuenta.",1)):(0,r.kq)("",!0)])])):(0,r.kq)("",!0)]),N],32)])])])}t(7658);var Y=t(9810),R=t(809),W=t(5848),H={name:"NewClient",components:{Multiselect:Y.Z},data(){return{error_message_text:"",error_message:!1,success_message:!1,activeTerm:!1,samepass:!0,showpass:!1,repassword:"",countries:[],select_style_opt:{container:"relative w-4/12 flex text-orange items-center justify-end box-border cursor-pointer border border-white rounded-3xl bg-transparent text-xl leading-snug outline-none",search:"w-4/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-transparent rounded-3xl pl-2 rtl:pl-0 rtl:pr-3.5",options:"flex flex-col p-0 m-0 list-none text-blue",optionSelected:"text-white bg-lightGray"},country:{value:"",label:""},formData:{}}},created(){this.getCountry(),this.clearForm()},watch:{repassword(){this.samepass=this.repassword==this.formData.password||""==this.repassword&&""==this.formData.password}},methods:{async getCountry(){try{const{status:e,data:a}=await R.Z.checkLogin("/country");if(200==e){for(let e of a)this.countries.push({value:e.id,label:e.alias});console.log(this.countries)}}catch(e){console.log(e.response)}},async submitForm(e){e.preventDefault(),this.validate(this.formData.first_name)||this.validate(this.formData.last_name)||this.validate(this.formData.gender_id)||this.validate(this.formData.email)||this.validate(this.country)?(this.formData.country_id=this.country.value?this.country.value:this.formData.country_id,W.Z.addUpdClient(this.formData,!0).then((e=>{console.log(e),e?(this.formData.password="",this.repassword="",this.error_message=!1,this.success_message=!0,setTimeout((()=>{this.success_message=!1,this.clearForm()}),6e3)):(this.error_message=!0,this.success_message=!1,setTimeout((()=>{this.error_message=!1}),5e3),this.error_message_text="El email del usuario que desea crear ya esta existe.")}))):(this.error_message=!0,this.success_message=!1,setTimeout((()=>{this.error_message=!1}),5e3),this.error_message_text="Faltan datos por llenar")},validate(e){return""!=e&&(void 0!==e&&null!==e)},clearForm(){this.formData={first_name:"",last_name:"",phone:"",email:"",parent:"",parent_id:"",gender_id:"",password:"",address:"",city:"",province:"",zip_code:"",iata:"",company:"",is_agent:"",country_id:"",roles:[],margin:[]}}}},J=t(89);const K=(0,J.Z)(H,[["render",j],["__scopeId","data-v-104cb002"]]);var O=K}}]);
//# sourceMappingURL=571.8e762f63.js.map