"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[498],{4128:function(t,e,a){a(7658);var s=a(809);const l={async getSearchInfo(){try{const t=await this.getHotels(),e=await this.getDestinations();return{hotels:t||[],destinations:e||[]}}catch(t){console.log(t)}},async getHotels(t){try{const e=void 0==t?"/hotels":`/hotels/by-pole/${t}`,a=[],l=await s.Z.checkLogin(e);if(l&&200==l.status)for(let t of l.data)a.push({label:t.alias,value:t.id});return a}catch(e){console.log(e)}},async getDestinations(){try{const{status:t,data:e}=await s.Z.checkLogin("/poles");if(200==t){const t=[];for(let a of e)t.push({label:a.alias,value:a.id});return t}}catch(t){console.log(t)}},async getOffers(){try{const t=await s.Z.checkLogin("/offers"),e=[];if(t){if(200!=t.status)return{success:!1,errors:"Fail check login"};for(let a of t.data)if(a.active){const t={id:a.id,name:a.title,keyword:a.keyword,description:a.description,info:a.info,price:a.price_from,country:"Cuba",btn:"contactar"};if("image"in a)for(let e of a.image[0].resources)"original"==e.image&&(t.img=e.url);e.push(t)}}return e}catch(t){console.log(t)}}};e["Z"]=l},4617:function(t,e,a){a.d(e,{Z:function(){return j}});var s=a(3396),l=a(7139);const o=t=>((0,s.dD)("data-v-d1309aa6"),t=t(),(0,s.Cn)(),t),r={class:"relative"},i={class:"flex flex-col gap-y-3"},n={class:"text"},c={class:"flex justify-center"},d=["onClick"],u=o((()=>(0,s._)("i",{class:"fa fa-minus"},null,-1))),p=[u],f=o((()=>(0,s._)("i",{class:"fa fa-plus"},null,-1))),m=[f],h=o((()=>(0,s._)("i",{class:"fa fa-times"},null,-1))),x=[h];function g(t,e,a,o,u,f){const h=(0,s.up)("number-imput");return(0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.r,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"rooms-obj flex md:flex-row flex-col gap-x-3 gap-y-6 py-4",key:o},[(0,s._)("div",i,[(0,s._)("small",n,"Habitación "+(0,l.zw)(o+1),1),(0,s._)("div",c,[(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange rounded-4xl px-2 py-1 mx-2",onClick:t=>f.subRoom(o)},p,8,d),(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange rounded-4xl px-2 py-1 mx-2",onClick:e[0]||(e[0]=(...t)=>f.addRoom&&f.addRoom(...t))},m)])]),(0,s.Wm)(h,{title:"Adultos",min:1,valor:a.r[o].adults,id:o,onUpdVal:f.updAdult},null,8,["valor","id","onUpdVal"]),(0,s.Wm)(h,{title:"Niños",valor:a.r[o].children,id:o,onUpdVal:f.updChildren},null,8,["valor","id","onUpdVal"])])))),128)),(0,s._)("span",{class:"absolute top-0 right-0 cursor-pointer h-auto",onClick:e[1]||(e[1]=(...t)=>f.closePerson&&f.closePerson(...t))},x)])}const b={class:"flex flex-col gap-y-3"},_={class:"text"},v={class:"flex justify-center"},w=(0,s._)("i",{class:"fa fa-minus"},null,-1),y=[w],D={class:"w-2/6 border rounded-4xl text-gray text-center px-4 py-1"},k=(0,s._)("i",{class:"fa fa-plus"},null,-1),S=[k];function C(t,e,a,o,r,i){return(0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("small",_,(0,l.zw)(a.title),1),(0,s._)("div",v,[(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange rounded-4xl px-2 py-1 mx-2",onClick:e[0]||(e[0]=(...t)=>i.sub&&i.sub(...t))},y),(0,s._)("span",D,(0,l.zw)(r.val),1),(0,s._)("span",{class:"cursor-pointer pointer border self-center text-white bg-orange rounded-4xl px-2 py-1 mx-2",onClick:e[1]||(e[1]=(...t)=>i.add&&i.add(...t))},S)])])}var R={name:"NumberImput",props:{title:{require:!1,default:"Title"},max:{require:!1,default:10},min:{require:!1,default:0},id:{require:!1,default:0},valor:{default:0}},data(){return{val:this.min}},watch:{val(t){this.$emit("updVal",{val:t,id:this.id})}},methods:{add(){this.val=this.val==this.max?this.max:this.val+1},sub(){this.val=this.val==this.min?1:this.val-1}}},Z=a(89);const V=(0,Z.Z)(R,[["render",C]]);var q=V,I={name:"NumPerson",props:{r:{}},components:{NumberImput:q},data(){return{value:0}},methods:{updAdult(t){console.log(t)},updChildren(t){console.log(t)},addRoom(){this.$emit("addRoom",{action:"add"})},subRoom(t){this.r.length>1&&this.$emit("subRoom",{action:"del",pos:t})},closePerson(){this.$emit("close",!1)}}};const N=(0,Z.Z)(I,[["render",g],["__scopeId","data-v-d1309aa6"]]);var j=N},7498:function(t,e,a){a.d(e,{Z:function(){return q}});var s=a(3396),l=a(7139);const o=t=>((0,s.dD)("data-v-2f4c1c5c"),t=t(),(0,s.Cn)(),t),r={class:"bg-white pb-12"},i={class:"container pt-10 m-auto"},n=o((()=>(0,s._)("i",{class:"fa fa-search"},null,-1))),c={key:0,class:"fa fa-times"},d={class:"w-full flex flex-col justify-around items-center gap-x-1 gap-y-6 px-3 pt-6 md:flex-row"},u={class:"w-full flex flex-col justify-around items-center gap-x-1 gap-y-6 px-6 md:flex-row"},p={class:"relative w-11/12 border border-blue rounded-4xl text-darkGray text-base py-4 md:ml-auto md:w-2/5 md:px-6 md:py-2"},f={class:"flex flex-col items-center justify-around gap-x-2 md:flex-row"},m=o((()=>(0,s._)("i",{class:"fas fa-door-open"},null,-1))),h=o((()=>(0,s._)("i",{class:"fa fa-user"},null,-1))),x=o((()=>(0,s._)("i",{class:"fas fa-edit"},null,-1))),g=[x],b=o((()=>(0,s._)("div",{class:"ml-auto px-6 pt-4"},[(0,s._)("button",{type:"submit",class:"uppercase bg-orange text-white text-xl rounded-4xl px-12 py-1",value:"buscar"},"Buscar")],-1)));function _(t,e,a,o,x,_){const v=(0,s.up)("Multiselect"),w=(0,s.up)("Datepicker"),y=(0,s.up)("stars"),D=(0,s.up)("num-person");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",i,[(0,s._)("div",{onClick:e[0]||(e[0]=t=>x.visible=!x.visible),class:"flex gap-x-3 justify-center items-center w-11/12 border rounded-4xl bg-blue cursor-pointer text-lg text-white m-auto py-2 md:w-2/5 md:text-xl"},[n,(0,s._)("h1",null,(0,l.zw)(a.title),1),x.visible?((0,s.wg)(),(0,s.iD)("i",c)):(0,s.kq)("",!0)]),(0,s._)("form",{id:"searchForm",class:(0,l.C_)(["flex flex-col gap-y-3 text-center w-10/12 rounded-3xl text-base tracking-wider shadow-blue-lg font-semibold m-auto md:px-8",{"visible-form":x.visible}]),onSubmit:e[6]||(e[6]=(...t)=>_.formSubmit&&_.formSubmit(...t))},[(0,s._)("div",d,[(0,s.Wm)(v,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=e=>t.value=e),mode:"single",searchable:!0,options:x.destinations,placeholder:"Seleccione destino",classes:x.select_style_opt,onSelect:_.updHotelOptions},null,8,["modelValue","options","classes","onSelect"]),(0,s.Wm)(v,{modelValue:x.formData.hotel,"onUpdate:modelValue":e[2]||(e[2]=t=>x.formData.hotel=t),mode:"single",searchable:!0,options:x.hotels,classes:x.select_style_opt,placeholder:"Seleccione el hotel (opcional)"},null,8,["modelValue","options","classes"]),(0,s.Wm)(w,{class:"datepicker-container",modelValue:x.date,"onUpdate:modelValue":[e[3]||(e[3]=t=>x.date=t),_.handleDate],range:"","multi-calendars":"","auto-apply":"","enable-time-picker":!1,"close-on-auto-apply":!0},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",u,[(0,s.Wm)(y,{onGetStar:_.updStar,star_init:x.formData.stars,star_style:"block"},null,8,["onGetStar","star_init"]),(0,s._)("div",p,[(0,s._)("div",f,[m,(0,s._)("span",null,(0,l.zw)(x.noRooms)+" Habitacion ",1),h,(0,s._)("span",null,(0,l.zw)(_.numperson)+" Personas ",1),(0,s._)("div",{class:"cursor-pointer text-orange text-xl md:ml-auto",onClick:e[4]||(e[4]=t=>x.visible_person=!x.visible_person)},g)]),(0,s._)("div",{id:"rooms",class:(0,l.C_)(["absolute right-0 top-50 bg-white border-lightGray rounded-3xl px-3",{"visible-numperson":x.visible_person}])},[(0,s.Wm)(D,{r:this.formData.rooms,onClose:e[5]||(e[5]=t=>x.visible_person=!1),onAddRoom:_.updNumRooms,onSubRoom:_.updNumRooms},null,8,["r","onAddRoom","onSubRoom"])],2)])]),b],34)])])}a(7658);var v=a(4128),w=a(6797),y=a.n(w),D=a(9810),k=a(4617),S=a(3642),C=a(9024),R={name:"SearcherComp",props:{title:{require:!1,default:"Busca vacaciones a la medida"}},components:{Multiselect:D.Z,NumPerson:k.Z,Stars:S.Z,Datepicker:C.Z},data(){return{activeTerm:!1,visible:!1,visible_person:!1,default_date:"20-01-022 ~ 20-02-2022",select_style_opt:{container:"relative mx-auto w-4/12 flex items-center justify-end box-border cursor-pointer border border-blue rounded-3xl bg-white text-base leading-snug outline-none",search:"w-4/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-white rounded-3xl pl-2 rtl:pl-0 rtl:pr-3.5",optionSelected:"text-white bg-lightGray"},date:{},formData:{rooms:[{adults:1,children:0,infants:0}],dateRange:null,destination:{value:"",label:""},hotel:{value:"",label:""},stars:3},selectedDestination:{value:"",label:""},destinations:[],hotels:[],noRooms:1}},created(){this.init()},computed:{numperson(){let t=0;for(let e of this.formData.rooms)t+=e.adults+e.children;return t}},methods:{init(){v.Z.getSearchInfo().then((t=>{if(this.destinations=t.destinations,this.hotels=t.hotels,localStorage.getItem("searchform")){const t=JSON.parse(localStorage.getItem("searchform"));this.formData.dateRange=[new Date(y()(t.dateRange[0])),new Date(y()(t.dateRange[1]))],this.selectedDestination=t.destination,this.formData.hotel=t.hotel,this.formData.stars=t.stars,this.formData.rooms=[];for(let e of t.rooms)this.formData.rooms.push({adults:e.adults,children:e.children,infants:e.infants})}}))},formSubmit(t){t.preventDefault(),localStorage.clear(),localStorage.setItem("searchform",JSON.stringify(this.formData)),"/resultado-de-busqueda"!=this.$route.fullPath?this.$router.push({name:"SearchResult"}):this.$emit("updparams")},handleDate(t){this.formData.dateRange.startDate=y()(t[0].toString()).format("DD-MM-YYYY"),this.formData.dateRange.endDate=y()(t[1].toString()).format("DD-MM-YYYY")},updStar(t){this.formData.starts=t},updNumRooms(t){"add"==t.action?this.formData.rooms.push({adults:1,children:0,infants:0}):"del"==t.action&&this.formData.rooms.splice(t.pos,1),this.noRooms=this.formData.rooms.length},updHotelOptions(t){this.formData.destination=t,v.Z.getHotels(t).then((t=>{this.formData.hotel={},this.hotels=[],this.hotels=t}))}}},Z=a(89);const V=(0,Z.Z)(R,[["render",_],["__scopeId","data-v-2f4c1c5c"]]);var q=V},3642:function(t,e,a){a.d(e,{Z:function(){return W}});var s=a(3396),l=a(7139),o=a(9242);const r=t=>((0,s.dD)("data-v-288318c0"),t=t(),(0,s.Cn)(),t),i={key:0,class:"grid gap-2 text-left text-base"},n=r((()=>(0,s._)("span",{class:"font-semibold"},"Categoria de Hotel",-1))),c={class:"stars flex justify-between gap-x-2 cursor-pointer"},d={key:1,class:"flex"},u={class:"relative text-2xl font-thin"},p=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),f={class:"absolute text-orange text-base top-8px left-5px"},m=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),h=[m],x={class:"relative text-2xl font-thin"},g=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),b={class:"absolute text-orange text-base top-8px left-5px"},_=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),v=[_],w={class:"relative text-2xl font-thin"},y=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),D={class:"absolute text-orange text-base top-8px left-5px"},k=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),S=[k],C={class:"relative text-2xl font-thin"},R=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),Z={class:"absolute text-orange text-base top-8px left-5px"},V=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),q=[V],I={class:"relative text-2xl font-thin"},N=r((()=>(0,s._)("i",{class:"far fa-star"},null,-1))),j={class:"absolute text-orange text-base top-8px left-5px"},H=r((()=>(0,s._)("i",{class:"fas fa-star"},null,-1))),Y=[H];function $(t,e,a,r,m,_){return(0,s.wg)(),(0,s.iD)("div",null,["block"==a.star_style?((0,s.wg)(),(0,s.iD)("div",i,[n,(0,s._)("div",c,[(0,s._)("span",{class:(0,l.C_)([{"yellow-star":m.active_star>=1},"bg-star w-8 h-8"]),onClick:e[0]||(e[0]=t=>_.toggleStar(1))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":m.active_star>=2},"bg-star w-8 h-8"]),onClick:e[1]||(e[1]=t=>_.toggleStar(2))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":m.active_star>=3},"bg-star w-8 h-8"]),onClick:e[2]||(e[2]=t=>_.toggleStar(3))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":m.active_star>=4},"bg-star w-8 h-8"]),onClick:e[3]||(e[3]=t=>_.toggleStar(4))},null,2),(0,s._)("span",{class:(0,l.C_)([{"yellow-star":5==m.active_star},"bg-star w-8 h-8"]),onClick:e[4]||(e[4]=t=>_.toggleStar(5))},null,2)])])):(0,s.kq)("",!0),"block"!=a.star_style?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[p,(0,s.wy)((0,s._)("span",f,h,512),[[o.F8,m.active_star>=1]])]),(0,s._)("div",x,[g,(0,s.wy)((0,s._)("span",b,v,512),[[o.F8,m.active_star>=2]])]),(0,s._)("div",w,[y,(0,s.wy)((0,s._)("span",D,S,512),[[o.F8,m.active_star>=3]])]),(0,s._)("div",C,[R,(0,s.wy)((0,s._)("span",Z,q,512),[[o.F8,m.active_star>=4]])]),(0,s._)("div",I,[N,(0,s.wy)((0,s._)("span",j,Y,512),[[o.F8,m.active_star>=5]])])])):(0,s.kq)("",!0)])}var U={name:"StarsComp",props:{star_style:{require:!1,default:"blocks"},star_init:{require:!1,default:3}},data(){return{active_star:this.star_init}},methods:{toggleStar(t){this.active_star=t,this.$emit("getStar",t)}}},F=a(89);const P=(0,F.Z)(U,[["render",$],["__scopeId","data-v-288318c0"]]);var W=P}}]);
//# sourceMappingURL=498.8a440704.js.map