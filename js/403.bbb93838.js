"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[403],{7403:function(e,t,s){s.r(t),s.d(t,{default:function(){return ms}});var a=s(3396),o=s(7139),r=s(9242);const n=e=>((0,a.dD)("data-v-6597276f"),e=e(),(0,a.Cn)(),e),i={class:"container py-6 px-2 m-auto"},l={class:"flex flex-1 flex-col w-full border shadow rounded-lg bg-white text-left py-4 p-8"},d={class:"flex-1 flex-col my-3 px-3 py-2 border-double border border-gray-400 rounded-lg"},c={class:"flex flex-row items-center my-3 mx-2"},u=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Compañía",-1))),m={class:"text-white bg-orange rounded-xl ml-auto p-1 px-2"},p=n((()=>(0,a._)("i",{class:"fa fa-exclamation-triangle"},null,-1))),f={class:"flex flex-row items-center my-3 mx-2"},g=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"IATA",-1))),x={class:"flex flex-row items-center my-3 mx-2"},b=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Nombres *",-1))),h={class:"flex flex-row items-center my-3 mx-2"},y=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Apellidos *",-1))),w={class:"flex flex-row items-center my-3 mx-2"},_=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Dirección",-1))),v={class:"flex flex-row items-center my-3 mx-2"},D=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Genero *",-1))),k={class:"flex flex-row items-center my-3 mx-2"},C=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"EMail *",-1))),A={class:"flex flex-row items-center my-3 mx-2"},L=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Teléfono",-1))),V={class:"flex flex-row items-center my-3 mx-2"},I=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Ciudad",-1))),S={class:"flex flex-row items-center my-3 mx-2"},U=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Código Postal",-1))),T={class:"flex flex-row items-center my-3 mx-2"},Z=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"País *",-1))),F={class:"flex flex-row items-center my-3 mx-2"},z=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Provincia",-1))),H={class:"flex flex-col border border-gray-400 rounded-md p-5 mt-3"},W={class:"flex flex-row gap-x-3 items-center my-3 mx-2"},$=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2"},"Contraseña",-1))),q=["type"],P=n((()=>(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2"},"Confirmar Contraseña",-1))),E=["type"],G={class:"flex items-center gap-x-4"},J=n((()=>(0,a._)("i",{class:"fas fa-eye-slash"},null,-1))),N=[J],j=n((()=>(0,a._)("i",{class:"fas fa-eye"},null,-1))),M=[j],O={class:"flex justify-between"},Y={class:"text-red"},B=n((()=>(0,a._)("button",{type:"button",class:"ml-auto"},"Resetear Contraseña",-1))),K={class:"flex flex-1 gap-3 mt-10 flex-row-reverse gap-y-4"},R=n((()=>(0,a._)("button",{type:"submit",class:"inline-flex border border-transparent h-10 bg-green-600 rounded-md font-semibold text-xs text-white uppercase tracking-widest px-4 py-2 hsover:bg-green-500 focus:outline-none focus:border-green-700 focus:ring focus:ring-green-200 active:bg-green-600 disabled:opacity-25 transition"},"Salvar",-1))),Q=n((()=>(0,a._)("button",{type:"button",class:"inline-flex border border-gray-400 h-10 bg-red rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm px-4 py-2 hover:text-white focus:outline-none focus:border-red-300 focus:ring focus:ring-red-200 active:text-gray-800 active:bg-red disabled:opacity-25 transition"},"Cancelar",-1))),X={key:0,class:"error-message"},ee=n((()=>(0,a._)("i",{class:"fa fa-times-circle"},null,-1))),te={class:"text-xl self-center px-2"},se={key:1,class:"success-message"},ae=n((()=>(0,a._)("i",{class:"fa fa-check-circle"},null,-1))),oe=n((()=>(0,a._)("h5",{class:"text-xl self-center px-2"},"La información ha sido enviada satisfactoriamente.",-1))),re=[ae,oe],ne={class:"flex flex-wrap bg-backBoard rounded-xl p-4 shadow-inner gap-4"},ie={key:1};function le(e,t,s,n,J,j){const ae=(0,a.up)("Multiselect"),oe=(0,a.up)("tab"),le=(0,a.up)("new-vendor"),de=(0,a.up)("Vendor"),ce=(0,a.up)("tabs");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a.Wm)(ce,null,{default:(0,a.w5)((()=>[(0,a.Wm)(oe,{name:"Informacion General"},{default:(0,a.w5)((()=>[(0,a._)("form",{action:"",class:"mt-2",onSubmit:t[14]||(t[14]=(...e)=>j.submitForm&&j.submitForm(...e))},[(0,a._)("div",d,[(0,a._)("div",c,[u,(0,a._)("span",null,(0,o.zw)(J.company),1),(0,a.wy)((0,a._)("span",m,[p,(0,a.Uk)(" "+(0,o.zw)(J.msg),1)],512),[[r.F8,""!=J.msg]])]),(0,a._)("div",f,[g,(0,a._)("span",null,(0,o.zw)(J.IATA),1)]),(0,a._)("div",x,[b,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[0]||(t[0]=e=>J.formData.first_name=e),required:""},null,512),[[r.nr,J.formData.first_name]])]),(0,a._)("div",h,[y,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[1]||(t[1]=e=>J.formData.last_name=e),required:""},null,512),[[r.nr,J.formData.last_name]])]),(0,a._)("div",w,[_,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[2]||(t[2]=e=>J.formData.address=e)},null,512),[[r.nr,J.formData.address]])]),(0,a._)("div",v,[D,(0,a.Wm)(ae,{modelValue:J.formData.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>J.formData.gender=e),mode:"single",searchable:!0,options:J.genders,placeholder:"Seleccione genero *",classes:J.select_style_opt},null,8,["modelValue","options","classes"])]),(0,a._)("div",k,[C,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",readonly:"","onUpdate:modelValue":t[4]||(t[4]=e=>J.formData.email=e),required:""},null,512),[[r.nr,J.formData.email]])]),(0,a._)("div",A,[L,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[5]||(t[5]=e=>J.formData.phone=e)},null,512),[[r.nr,J.formData.phone]])]),(0,a._)("div",V,[I,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[6]||(t[6]=e=>J.formData.city=e)},null,512),[[r.nr,J.formData.city]])]),(0,a._)("div",S,[U,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[7]||(t[7]=e=>J.formData.zip_code=e)},null,512),[[r.nr,J.formData.zip_code]])]),(0,a._)("div",T,[Z,(0,a.Wm)(ae,{modelValue:J.formData.country,"onUpdate:modelValue":t[8]||(t[8]=e=>J.formData.country=e),mode:"single",searchable:!0,options:J.countries,placeholder:"Seleccione País *",classes:J.select_style_opt},null,8,["modelValue","options","classes"])]),(0,a._)("div",F,[z,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[9]||(t[9]=e=>J.formData.province=e)},null,512),[[r.nr,J.formData.province]])]),(0,a._)("div",H,[(0,a._)("div",W,[$,(0,a.wy)((0,a._)("input",{type:J.showpass?"text":"password",class:"flex-1 border mt-1 block w-90x100 py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[10]||(t[10]=e=>J.pass=e)},null,8,q),[[r.YZ,J.pass]]),P,(0,a.wy)((0,a._)("input",{type:J.showpass?"text":"password",class:"flex-1 border mt-1 block w-full border-gray-400 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[11]||(t[11]=e=>J.repassword=e)},null,8,E),[[r.YZ,J.repassword]]),(0,a._)("div",G,[(0,a.wy)((0,a._)("button",{type:"button",onClick:t[12]||(t[12]=e=>J.showpass=!J.showpass)},N,512),[[r.F8,!J.showpass]]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[13]||(t[13]=e=>J.showpass=!J.showpass)},M,512),[[r.F8,J.showpass]])])]),(0,a._)("div",O,[(0,a.wy)((0,a._)("small",Y,"Las contraseñas deben ser iguales.",512),[[r.F8,!J.samepass]]),B])])]),(0,a._)("div",K,[R,Q,J.error_message?((0,a.wg)(),(0,a.iD)("div",X,[ee,(0,a._)("h5",te,[(0,a.Uk)(" Error enviando informacion. No se pudo crear el nuevo usuario "),(0,a._)("p",null,(0,o.zw)(J.error_message_text),1)])])):(0,a.kq)("",!0),J.success_message?((0,a.wg)(),(0,a.iD)("div",se,re)):(0,a.kq)("",!0)])],32)])),_:1}),j.isAgent?((0,a.wg)(),(0,a.j4)(oe,{key:0,name:"Compradores"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{countries:J.countries,genders:J.genders,vendorId:J.vendor},null,8,["countries","genders","vendorId"]),(0,a._)("div",ne,[J.vendors.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(J.vendors,(e=>((0,a.wg)(),(0,a.j4)(de,{key:e.id,item:e,onUpdVendor:j.updVendor},null,8,["item","onUpdVendor"])))),128)):(0,a.kq)("",!0),0==J.vendors.length?((0,a.wg)(),(0,a.iD)("span",ie,"No tiene ningun vendedor asignado")):(0,a.kq)("",!0)])])),_:1})):(0,a.kq)("",!0)])),_:1})])])])}s(7658);const de=["id"],ce=(0,a._)("i",{class:"fa fa-user-circle text-gray-300 text-[7rem]"},null,-1),ue={class:"text-left"},me={class:"text-xl font-bold"},pe={class:"flex gap-6 py-4"},fe={class:"flex items-center gap-1"},ge={class:"flex items-center gap-1"},xe={class:"flex gap-2 self-center ml-auto"},be=(0,a._)("i",{class:"fa fa-times-circle text-3xl text-red cursor-pointer"},null,-1);function he(e,t,s,r,n,i){return(0,a.wg)(),(0,a.iD)("article",{id:s.item.id,class:"flex gap-6 w-[49%] bg-white rounded-xl px-6 py-4"},[ce,(0,a._)("div",ue,[(0,a._)("h3",me,(0,o.zw)(s.item.name),1),(0,a._)("span",null,(0,o.zw)(s.item.email),1),(0,a._)("div",pe,[(0,a._)("span",fe,[(0,a._)("i",{class:(0,o.C_)(["fa",i.isActive(s.item.active)])},null,2),(0,a.Uk)(" Activo")]),(0,a._)("span",ge,[(0,a._)("i",{class:(0,o.C_)(["fa text-white font-bold p-1 rounded-full",i.isActive(s.item.verify)])},null,2),(0,a.Uk)(" Verificado")])])]),(0,a._)("div",xe,[(0,a._)("i",{class:"fa fa-edit text-3xl text-blue cursor-pointer",onClick:t[0]||(t[0]=e=>i.updateVendor(s.item.id))}),be])],8,de)}var ye={name:"TableComp",props:{item:{default:{}}},data(){return{}},methods:{isActive(e){return e>0?"text-white font-bold p-1 rounded-full bg-green-400 fa-check":"text-white text-2xl text-red fa-times-circle"},updateVendor(e){this.$emit("updVendor",e)}}},we=s(89);const _e=(0,we.Z)(ye,[["render",he]]);var ve=_e,De=s(809);const ke={getList(){try{return De.Z.checkLogin("/gender").then((e=>{const t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};for(let s of e.data)t.push({id:s.id,alias:s.alias});return t}))}catch(e){console.log(e)}},getSimpleList(){return this.getList().then((e=>{const t=[];for(let s of e)t.push({value:s.id,label:s.alias});return t}))},async getGender(e){
//! Obtiene los datos x un ID
try{const{status:t,data:s}=await De.Z.checkLogin(`/gender/${e}`);if(200==t){const e=s;return e}}catch(t){console.log(t.response)}},async addUpdGender(e,t=!0){try{e.auth="bearer";const{status:s,data:a}=t?await De.Z.checkLogin("/gender/create",e,"post"):await De.Z.checkLogin(`/gender/upd/${e.id}`,e,"put");if(200==s)return a}catch(s){
//! Fail 
console.log(s.response)}return!1},async delete(e){const t={auth:"bearer",ids:e};try{const{status:e}=await De.Z.checkLogin("/gender/delete",t,"post");if(200==e)return this.getList().then((e=>e))}catch(s){
//! Fail 
console.log(s.response)}}};var Ce=ke;const Ae={getList(){try{return De.Z.checkLogin("/country").then((e=>{const t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};for(let s of e.data)t.push({id:s.id,alias:s.alias,code:s.code,coin:s.coin});return t}))}catch(e){console.log(e)}},getSimpleList(){try{return De.Z.checkLogin("/country").then((e=>{if(200==e.status){const t=[];for(let s of e.data)t.push({value:s.id,label:s.alias});return t}}))}catch(e){return console.log(e),[]}},async getCountry(e){
//! Obtiene los datos x un ID
try{const{status:t,data:s}=await De.Z.checkLogin(`/country/${e}`);if(200==t)return s}catch(t){console.log(t.response)}},async addUpdCountry(e,t=!0){try{e.auth="bearer";const{status:s,data:a}=t?await De.Z.checkLogin("/country/create",e,"post"):await De.Z.checkLogin(`/country/upd/${e.id}`,e,"put");if(200==s)return a}catch(s){
//! Fail 
console.log(s.response)}return!1},async delete(e){const t={auth:"bearer",ids:e};try{const{status:e}=await De.Z.checkLogin("/country/delete",t,"post");if(200==e)return this.getList().then((e=>e))}catch(s){
//! Fail 
console.log(s.response)}}};var Le=Ae,Ve=s(5848);const Ie={class:"flex gap-6 w-full"},Se={ref:"vendorForm",class:"w-2/12 rounded bg-blueGray text-gray text-center py-3 px-6"},Ue=(0,a._)("i",{class:"fa fa-plus"},null,-1),Te={class:"flex gap-3"},Ze={class:"flex flex-col w-5/12"},Fe={class:"flex flex-row items-center my-3 mx-2"},ze=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Nombres *",-1),He={class:"flex flex-row items-center my-3 mx-2"},We=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Apellidos *",-1),$e={class:"flex flex-row items-center my-3 mx-2"},qe=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Genero *",-1),Pe={class:"flex flex-col w-5/12"},Ee={class:"flex flex-row items-center my-3 mx-2"},Ge=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"EMail *",-1),Je=["readonly"],Ne={class:"flex flex-row items-center my-3 mx-2"},je=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Teléfono",-1),Me={class:"flex flex-col"},Oe={class:"flex flex-row items-center my-3 mx-2"},Ye=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Dirección",-1),Be={class:"flex flex-row items-center my-3 mx-2"},Ke=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"País *",-1),Re={class:"flex"},Qe={class:"flex flex-row items-center my-3 mx-2"},Xe=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Ciudad",-1),et={class:"flex flex-row items-center my-3 mx-2"},tt=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Provincia",-1),st={class:"flex flex-row items-center my-3 mx-2"},at=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},"Código Postal",-1),ot={class:"flex flex-col"},rt={class:"flex flex-col p-5 mt-3"},nt={class:"flex flex-row gap-x-3 items-center my-3 mx-2"},it=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2"},"Contraseña",-1),lt=["type"],dt=(0,a._)("label",{class:"uppercase block text-sm font-medium text-gray-700 mx-2"},"Confirmar Contraseña",-1),ct=["type"],ut={class:"flex items-center gap-x-4"},mt=(0,a._)("i",{class:"fas fa-eye-slash"},null,-1),pt=[mt],ft=(0,a._)("i",{class:"fas fa-eye"},null,-1),gt=[ft],xt={class:"flex justify-between"},bt={class:"text-red"},ht=(0,a._)("button",{type:"button",class:"ml-auto"},"Resetear Contraseña",-1),yt={class:"flex flex-col border rounded-xl gap-3 p-4"},wt=(0,a._)("h3",{class:"uppercase"},"Margen por productos (%)",-1),_t={class:"flex flex-row items-center my-3 mx-2"},vt={class:"uppercase block text-sm font-medium text-gray-700 mx-2 w-32"},Dt=["onUpdate:modelValue"],kt={class:"flex gap-3 mt-10 flex-row-reverse gap-y-4 w-full"},Ct=(0,a._)("button",{type:"submit",class:"inline-flex border border-transparent h-10 bg-green-600 rounded-md font-semibold text-xs text-white uppercase tracking-widest px-4 py-2 hsover:bg-green-500 focus:outline-none focus:border-green-700 focus:ring focus:ring-green-200 active:bg-green-600 disabled:opacity-25 transition"},"Salvar",-1),At=(0,a._)("button",{type:"button",class:"inline-flex border border-gray-400 h-10 bg-red rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm px-4 py-2 hover:text-white focus:outline-none focus:border-red-300 focus:ring focus:ring-red-200 active:text-gray-800 active:bg-red disabled:opacity-25 transition"},"Cancelar",-1),Lt={key:0,class:"error-message"},Vt=(0,a._)("i",{class:"fa fa-times-circle"},null,-1),It={class:"text-xl self-center px-2"},St={key:1,class:"success-message"},Ut=(0,a._)("i",{class:"fa fa-check-circle"},null,-1),Tt=(0,a._)("h5",{class:"text-xl self-center px-2"},"La información ha sido enviada satisfactoriamente.",-1),Zt=[Ut,Tt];function Ft(e,t,s,n,i,l){const d=(0,a.up)("Multiselect"),c=(0,a.up)("accordion-item"),u=(0,a.up)("accordion");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{"accordion-trigger":(0,a.w5)((()=>[(0,a._)("div",Ie,[(0,a._)("h3",Se,[(0,a.Uk)("Agregar Vendedor "),Ue],512),(0,a.wy)((0,a._)("span",{class:(0,o.C_)(["w-10/12 rounded text-white text-xl px-4 pt-2",l.isOK()])},(0,o.zw)(i.message_text),3),[[r.F8,i.error_message||i.success_message]])])])),"accordion-content":(0,a.w5)((()=>[(0,a._)("form",{action:"",class:"flex flex-col my-3 px-3 py-2 border-double border border-gray-400 rounded-lg",onSubmit:t[14]||(t[14]=(...e)=>l.submitFormVendor&&l.submitFormVendor(...e))},[(0,a._)("section",Te,[(0,a._)("div",Ze,[(0,a._)("div",Fe,[ze,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[0]||(t[0]=e=>i.formData.first_name=e),required:""},null,512),[[r.nr,i.formData.first_name]])]),(0,a._)("div",He,[We,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.last_name=e),required:""},null,512),[[r.nr,i.formData.last_name]])]),(0,a._)("div",$e,[qe,(0,a.Wm)(d,{modelValue:this.formData.gender,"onUpdate:modelValue":t[2]||(t[2]=e=>this.formData.gender=e),mode:"single",searchable:!0,options:s.genders,placeholder:"Seleccione genero *",classes:i.select_style_opt},null,8,["modelValue","options","classes"])])]),(0,a._)("div",Pe,[(0,a._)("div",Ee,[Ge,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",readonly:"create"!=i.mode,"onUpdate:modelValue":t[3]||(t[3]=e=>i.formData.email=e),required:""},null,8,Je),[[r.nr,i.formData.email]])]),(0,a._)("div",Ne,[je,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[4]||(t[4]=e=>i.formData.phone=e)},null,512),[[r.nr,i.formData.phone]])])])]),(0,a._)("section",Me,[(0,a._)("div",Oe,[Ye,(0,a.wy)((0,a._)("input",{type:"text",class:"w-2/4 border mt-1 block py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[5]||(t[5]=e=>i.formData.address=e)},null,512),[[r.nr,i.formData.address]])]),(0,a._)("div",Be,[Ke,(0,a.Wm)(d,{modelValue:i.formData.country,"onUpdate:modelValue":t[6]||(t[6]=e=>i.formData.country=e),mode:"single",searchable:!0,options:s.countries,placeholder:"Seleccione País *",classes:i.select_style_opt},null,8,["modelValue","options","classes"])]),(0,a._)("div",Re,[(0,a._)("div",Qe,[Xe,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[7]||(t[7]=e=>i.formData.city=e)},null,512),[[r.nr,i.formData.city]])]),(0,a._)("div",et,[tt,(0,a.wy)((0,a._)("input",{type:"text",class:"flex-1 border mt-1 block w-full py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[8]||(t[8]=e=>i.formData.province=e)},null,512),[[r.nr,i.formData.province]])]),(0,a._)("div",st,[at,(0,a.wy)((0,a._)("input",{type:"text",class:"border mt-1 block w-1/5 py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[9]||(t[9]=e=>i.formData.zip_code=e)},null,512),[[r.nr,i.formData.zip_code]])])])]),(0,a._)("section",ot,[(0,a._)("div",rt,[(0,a._)("div",nt,[it,(0,a.wy)((0,a._)("input",{type:i.showpass?"text":"password",class:"flex-1 border mt-1 block w-90x100 py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[10]||(t[10]=e=>i.formData.password=e)},null,8,lt),[[r.YZ,i.formData.password]]),dt,(0,a.wy)((0,a._)("input",{type:i.showpass?"text":"password",class:"flex-1 border mt-1 block w-full border-gray-400 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t[11]||(t[11]=e=>i.repassword=e)},null,8,ct),[[r.YZ,i.repassword]]),(0,a._)("div",ut,[(0,a.wy)((0,a._)("button",{type:"button",onClick:t[12]||(t[12]=e=>i.showpass=!i.showpass)},pt,512),[[r.F8,!i.showpass]]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[13]||(t[13]=e=>i.showpass=!i.showpass)},gt,512),[[r.F8,i.showpass]])])]),(0,a._)("div",xt,[(0,a.wy)((0,a._)("small",bt,"Las contraseñas deben ser iguales.",512),[[r.F8,!i.samepass]]),ht])]),(0,a._)("div",yt,[wt,(0,a._)("div",_t,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.available_products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("label",vt,(0,o.zw)(e.name),1),(0,a.wy)((0,a._)("input",{type:"text",class:"w-2/5 border mt-1 block py-2 px-3 border-gray-400 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm","onUpdate:modelValue":t=>e.agent_margin=t},null,8,Dt),[[r.nr,e.agent_margin]])])))),128))])])]),(0,a._)("section",kt,[Ct,At,i.error_message?((0,a.wg)(),(0,a.iD)("div",Lt,[Vt,(0,a._)("h5",It,[(0,a.Uk)(" Error enviando informacion. No se pudo crear el nuevo usuario "),(0,a._)("p",null,(0,o.zw)(e.error_message_text),1)])])):(0,a.kq)("",!0),i.success_message?((0,a.wg)(),(0,a.iD)("div",St,Zt)):(0,a.kq)("",!0)])],32)])),_:1})])),_:1})])}const zt={getList(){try{return De.Z.checkLogin("/product-type").then((e=>{const t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};for(let s of e.data)t.push({id:s.id,alias:s.alias,active:!!s.active});return t}))}catch(e){console.log(e)}},getSimpleList(){try{return De.Z.checkLogin("/product-type").then((e=>{if(200==e.status){const t=[];for(let s of e.data)t.push({value:s.id,label:s.alias});return t}}))}catch(e){return console.log(e),[]}},getCustomList(){try{return De.Z.checkLogin("/product-type").then((e=>{if(200==e.status){const t=[];for(let s of e.data)1==s.active&&t.push({id:s.id,name:s.alias,class_name:s.class_name,agent_margin:s.travel_agent_margin});return t}}))}catch(e){return console.log(e),[]}},async getProductType(e){
//! Obtiene los datos x un ID
try{const{status:t,data:s}=await De.Z.checkLogin(`/product-type/${e}`);if(200==t)return s}catch(t){console.log(t.response)}},async delete(e){const t={auth:"bearer",ids:e};try{const{status:e}=await De.Z.checkLogin("/product-type/delete",t,"post");if(200==e)return this.getList().then((e=>e))}catch(s){
//! Fail 
console.log(s.response)}}};var Ht=zt;const Wt={class:"accordion"};function $t(e,t,s,o,r,n){return(0,a.wg)(),(0,a.iD)("ul",Wt,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var qt={name:"AccordionComp",props:{},data(){return{Accordion:{count:0,active:null}}},provide(){return{Accordion:this.Accordion}}};const Pt=(0,we.Z)(qt,[["render",$t],["__scopeId","data-v-499f1d62"]]);var Et=Pt;const Gt={class:"accordion__item"},Jt={class:"accordion__content"};function Nt(e,t,s,n,i,l){return(0,a.wg)(),(0,a.iD)("li",Gt,[(0,a._)("div",{class:(0,o.C_)(["accordion__trigger",{accordion__trigger_active:l.visible}]),onClick:t[0]||(t[0]=(...e)=>l.open&&l.open(...e))},[(0,a.WI)(e.$slots,"accordion-trigger",{},void 0,!0)],2),(0,a.Wm)(r.uT,{name:"accordion",onEnter:l.start,onAfterEnter:l.end,onBeforeLeave:l.start,onAfterLeave:l.end},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",Jt,[(0,a._)("ul",null,[(0,a.WI)(e.$slots,"accordion-content",{},void 0,!0)])],512),[[r.F8,l.visible]])])),_:3},8,["onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])])}var jt={props:{},inject:["Accordion"],data(){return{index:null}},computed:{visible(){return this.index==this.Accordion.active}},methods:{open(){this.visible?this.Accordion.active=null:this.Accordion.active=this.index},start(e){e.style.height=e.scrollHeight+"px"},end(e){e.style.height=""}},created(){this.index=this.Accordion.count++}};const Mt=(0,we.Z)(jt,[["render",Nt],["__scopeId","data-v-61e84145"]]);var Ot=Mt,Yt=s(9810),Bt={name:"NewVendor",props:{countries:{default:[]},genders:{default:[]},vendorId:{default:""}},components:{Multiselect:Yt.Z,Accordion:Et,AccordionItem:Ot},data(){return{title:"Client",mode:"create",message_text:"",error_message:!1,success_message:!1,select_style_opt:{container:"relative w-6/12 flex items-center justify-end box-border cursor-pointer border border-[#9CA3AF] rounded-lg bg-white text-base leading-snug outline-none",search:"w-4/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-white rounded-lg pl-2 rtl:pl-0 rtl:pr-3.5",optionSelected:"text-white bg-lightGray",optionSelectedPointed:"text-white bg-lightGray opacity-90",optionSelectedDisabled:"text-green-100 bg-lightGray bg-opacity-50 cursor-not-allowed"},available_products:[],showpass:!1,samepass:!0,repassword:"",company:"",IATA:"",formData:{}}},created(){this.isAdmin=De.Z.validateRole("ROLE_SuperAdmin"),Ht.getCustomList().then((e=>this.available_products=e)),"create"!=this.mode&&this.initForm()},watch:{vendorId(e){e?Ve.Z.getClient(e).then((e=>{this.formData={first_name:e.first_name,last_name:e.last_name,phone:e.phone,email:e.email,gender_id:e.gender_id,gender:e.gender_id,password:"",address:e.address,city:e.city,province:e.province,zip_code:e.zip_code,country_id:e.country_id},console.log(this.formData),this.mode="modify",this.$refs.vendorForm.click()})):this.initForm()}},methods:{submitFormVendor(e){if(e.preventDefault(),this.validate(this.formData.first_name)||this.validate(this.formData.last_name)||this.validate(this.formData.gender)||this.validate(this.formData.email)||this.validate(this.formData.country)){this.formData.gender_id=this.formData.gender,this.formData.country_id=this.formData.country,this.formData.active=0,this.formData.margin=[];for(let e of this.available_products)this.formData.margin.push({id:e.id,agent_margin:e.agent_margin});console.log()}else this.error_message=!0,this.success_message=!1,this.message_text="No se pudo realizar la operacion",setTimeout((()=>{this.error_message=!1}),5e3)},initForm(){this.formData={from_web:!0,first_name:"",last_name:"",phone:"",email:"",gender_id:"",gender:{value:"",label:""},password:"",address:"",city:"",province:"",zip_code:"",iata:"",company:"",is_agent:"",country_id:"",country:{value:"",label:""},margin:[]}},isOK(){return!this.error_message&&this.success_message?"bg-green-400":"bg-red"},validate(e){return""!=e&&(void 0!==e&&null!==e)}}};const Kt=(0,we.Z)(Bt,[["render",Ft]]);var Rt=Kt,Qt=s(4870),Xt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s};const es={name:"Tab",props:{panelClass:{type:String,default:"tabs-component-panel"},id:{type:String,default:null},name:{type:String,required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const t=(0,Qt.iH)(!1),s=(0,a.f3)("tabsProvider"),o=(0,a.f3)("addTab"),r=(0,a.f3)("updateTab"),n=(0,a.f3)("deleteTab"),i=e.prefix+e.name+e.suffix,l=e.id?e.id:e.name.toLowerCase().replace(/ /g,"-"),d="#"+(e.isDisabled?"":l);return(0,a.YP)((()=>s.activeTabHash),(()=>{t.value=d===s.activeTabHash})),(0,a.YP)((()=>Object.assign({},e)),(()=>{r(l,{name:e.name,header:e.prefix+e.name+e.suffix,isDisabled:e.isDisabled,hash:d,index:s.tabs.length,computedId:l})})),(0,a.wF)((()=>{o({name:e.name,header:i,isDisabled:e.isDisabled,hash:d,index:s.tabs.length,computedId:l})})),(0,a.Jd)((()=>{n(l)})),{header:i,computedId:l,hash:d,isActive:t}}},ts=["id","aria-hidden"];function ss(e,t,s,n,i,l){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("section",{id:n.computedId,ref:"tab","aria-hidden":!n.isActive,class:(0,o.C_)(s.panelClass),role:"tabpanel"},[(0,a.WI)(e.$slots,"default")],10,ts)),[[r.F8,n.isActive]])}var as=Xt(es,[["render",ss]]);class os{get(e){const t=JSON.parse(localStorage.getItem(e));if(!t)return null;const s=new Date(t.expires);return s<new Date?(localStorage.removeItem(e),null):t.value}set(e,t,s){const a=(new Date).getTime(),o=new Date(a+6e4*s);localStorage.setItem(e,JSON.stringify({value:t,expires:o}))}}var rs=new os;const ns={props:{cacheLifetime:{type:Number,default:5},options:{type:Object,required:!1,default:()=>({useUrlFragment:!0,defaultTabHash:null,disableScrollBehavior:!1})},wrapperClass:{type:String,default:"tabs-component"},panelsWrapperClass:{type:String,default:"tabs-component-panels"},navClass:{type:String,default:"tabs-component-tabs"},navItemClass:{type:String,default:"tabs-component-tab"},navItemDisabledClass:{type:String,default:"is-disabled"},navItemActiveClass:{type:String,default:"is-active"},navItemLinkClass:{type:String,default:"tabs-component-tab-a"},navItemLinkActiveClass:{type:String,default:"is-active"},navItemLinkDisabledClass:{type:String,default:"is-disabled"}},emits:["changed","clicked"],setup(e,t){const s=(0,Qt.qj)({activeTabHash:"",lastActiveTabHash:"",tabs:[]});(0,a.JJ)("tabsProvider",s),(0,a.JJ)("addTab",(e=>{s.tabs.push(e)})),(0,a.JJ)("updateTab",((e,t)=>{let a=s.tabs.findIndex((t=>t.computedId===e));t.isActive=s.tabs[a].isActive,s.tabs[a]=t})),(0,a.JJ)("deleteTab",(e=>{let t=s.tabs.findIndex((t=>t.computedId===e));s.tabs.splice(t,1)}));const o=(a,o)=>{!o||e.options.useUrlFragment&&!e.options.disableScrollBehavior||o.preventDefault();const n=r(a);if(!n)return;if(o&&n.isDisabled)return void o.preventDefault();if(s.lastActiveTabHash===n.hash)return void t.emit("clicked",{tab:n});s.tabs.forEach((e=>{e.isActive=e.hash===n.hash})),t.emit("changed",{tab:n}),s.lastActiveTabHash=s.activeTabHash=n.hash;const i=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`;rs.set(i,n.hash,e.cacheLifetime)},r=e=>s.tabs.find((t=>t.hash===e));return(0,a.bv)((()=>{if(!s.tabs.length)return;if(window.addEventListener("hashchange",(()=>o(window.location.hash))),r(window.location.hash))return void o(window.location.hash);const t=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`,a=rs.get(t);r(a)?o(a):e.options.defaultTabHash&&r("#"+e.options.defaultTabHash)?o("#"+e.options.defaultTabHash):o(s.tabs[0].hash)})),{...(0,Qt.BK)(s),selectTab:o,findTab:r}}},is=["aria-controls","aria-selected","href","onClick","innerHTML"];function ls(e,t,s,r,n,i){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(s.wrapperClass)},[(0,a._)("ul",{role:"tablist",class:(0,o.C_)(s.navClass)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:(0,o.C_)([s.navItemClass,e.isDisabled?s.navItemDisabledClass:"",e.isActive?s.navItemActiveClass:""]),role:"presentation"},[(0,a._)("a",{role:"tab",class:(0,o.C_)([s.navItemLinkClass,e.isDisabled?s.navItemLinkDisabledClass:"",e.isActive?s.navItemLinkActiveClass:""]),"aria-controls":e.hash,"aria-selected":e.isActive,href:e.hash,onClick:t=>r.selectTab(e.hash,t),innerHTML:e.header},null,10,is)],2)))),128))],2),(0,a._)("div",{class:(0,o.C_)(s.panelsWrapperClass)},[(0,a.WI)(e.$slots,"default")],2)],2)}var ds=Xt(ns,[["render",ls]]),cs={name:"AdminComp",components:{Vendor:ve,Tabs:ds,Tab:as,Multiselect:Yt.Z,NewVendor:Rt},data(){return{title:"Client",mode:"modify",vendor:"",error_message_text:"",error_message:!1,msg:"",success_message:!1,select_style_opt:{container:"relative w-4/12 flex items-center justify-end box-border cursor-pointer border border-[#9CA3AF] rounded-lg bg-white text-base leading-snug outline-none",search:"w-4/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-white rounded-lg pl-2 rtl:pl-0 rtl:pr-3.5",optionSelected:"text-white bg-lightGray",optionSelectedPointed:"text-white bg-lightGray opacity-90",optionSelectedDisabled:"text-green-100 bg-lightGray bg-opacity-50 cursor-not-allowed"},showpass:!1,samepass:!0,pass:"",repassword:"",vendors:[],countries:[],genders:[],company:"",IATA:"",formData:{from_web:!0,first_name:"",last_name:"",phone:"",email:"",gender_id:"",gender:{value:"",label:""},password:"",address:"",city:"",province:"",zip_code:"",country_id:"",country:{value:"",label:""}}}},created(){if(De.Z.isLogged()){this.msg=localStorage.getItem("user_msg");let e=[];e.push(Le.getSimpleList()),e.push(Ce.getSimpleList()),e.push(Ve.Z.getVendors()),Promise.all(e).then((e=>{this.countries=e[0],this.genders=e[1],this.vendors=e[2],this.initForm()}))}else this.$router.push("/")},watch:{repassword(){this.samepass=this.repassword==this.pass||""==this.repassword&&""==this.pass}},computed:{isAgent(){return De.Z.validateRole("ROLE_Agency")}},methods:{initForm(){const e=localStorage.getItem("id");Ve.Z.getClient(e).then((e=>{this.formData.first_name=e.first_name,this.formData.last_name=e.last_name,this.formData.phone=e.phone,this.formData.email=e.email,this.formData.address=e.address,this.formData.city=e.city,this.formData.province=e.province,this.formData.zip_code=e.zip_code,this.formData.gender_id=e.gender_id,this.formData.gender=e.gender_id,this.formData.country_id=e.country_id,this.formData.country=e.country_id,this.company=e.company,this.IATA=e.i_a_t_a}))},submitForm(e){e.preventDefault(),this.formData.password=this.pass,this.formData.gender_id=this.formData.gender,this.formData.country_id=this.formData.country,Ve.Z.addUpdClient(this.formData,!1).then((e=>{e&&(this.error_message=!1,this.success_message=!0,setTimeout((()=>{this.success_message=!1}),3e3))}))},createVendor(e,t){Ve.Z.addUpdClient(e,t).then((e=>{e&&(this.error_message=!1,this.success_message=!0,setTimeout((()=>{this.success_message=!1}),3e3))}))},updVendor(e){this.vendor=e}}};const us=(0,we.Z)(cs,[["render",le],["__scopeId","data-v-6597276f"]]);var ms=us}}]);
//# sourceMappingURL=403.bbb93838.js.map