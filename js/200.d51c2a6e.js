"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[200],{4487:function(e,t,o){o.r(t),o.d(t,{default:function(){return K}});var l=o(3396),s=o(7139);const n=e=>((0,l.dD)("data-v-552a8dd0"),e=e(),(0,l.Cn)(),e),i={class:"bg-white"},a={class:"text-3xl pt-6 text-blue md:text-6xl lg:text-4xl"},r={class:"font-Clarissa text-5xl"},c={class:"bg-white text-white"},p={class:"bg-blue pb-10"},u={class:"container flex flex-col gap-20 items-center py-10 m-auto"},d={key:0,class:"text-3xl"},h=n((()=>(0,l._)("i",{class:"fa fa-spinner fa-pulse"},null,-1))),g=[h],m={key:1,class:"text-3xl"};function b(e,t,o,n,h,b){const f=(0,l.up)("searcher"),x=(0,l.up)("pole-list"),y=(0,l.up)("product-list-template");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("section",i,[(0,l._)("h2",a,"- "+(0,s.zw)(h.product)+" -",1),(0,l._)("span",r,(0,s.zw)(h.country),1),(0,l.Wm)(f)]),(0,l._)("section",c,[(0,l._)("div",p,[(0,l.Wm)(x,{poles:h.poles,onPoleInfo:b.getPoleInfo},null,8,["poles","onPoleInfo"]),(0,l._)("div",u,[h.loading?((0,l.wg)(),(0,l.iD)("span",d,g)):(0,l.kq)("",!0),h.nohotel?((0,l.wg)(),(0,l.iD)("span",m," No hay hoteles disponibles en el polo ")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.product_list,((e,t)=>((0,l.wg)(),(0,l.j4)(y,{key:t,item:e,index:t,params:{poleKey:h.country,productKey:h.product}},null,8,["item","index","params"])))),128))])])])])}var f=o(1703);const x={class:"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto md:text-2xl md:w-4/6"},y=["onClick"];function v(e,t,o,n,i,a){const r=(0,l.up)("Multiselect");return(0,l.wg)(),(0,l.iD)("div",x,[a.isMobile?(0,l.kq)("",!0):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(o.poles,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{key:t,class:(0,s.C_)([{"btn-active":e.active},"border-2 border-blue bg-white text-blue rounded-75 px-8 hover:border-orange hover:bg-orange hover:text-white"]),onClick:t=>a.getPoleInfo(e.id)},(0,s.zw)(e.name),11,y)))),128)),a.isMobile?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:i.selectedPole,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedPole=e),mode:"single",searchable:!0,options:a.poleListFormat,placeholder:"Seleccione destino",classes:i.select_style_opt,onSelect:a.handleSelect},null,8,["modelValue","options","classes","onSelect"])):(0,l.kq)("",!0)])}o(7658);var w=o(9810),_={name:"PoleList",props:{poles:[]},components:{Multiselect:w.Z},data(){return{select_style_opt:{container:"relative mx-auto w-10/12 flex items-center justify-end box-border cursor-pointer border border-blue rounded-3xl bg-white text-xl text-blue leading-snug outline-none",search:"w-10/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base text-blue font-sans bg-white rounded-3xl pl-2 rtl:pl-0 rtl:pr-3.5",optionSelected:"text-white bg-lightGray"},selectedPole:{label:"La Habana",value:1}}},methods:{getPoleInfo(e){this.$emit("poleInfo",e)},handleSelect(e){e!=this.selectedPole.value&&this.getPoleInfo(e)}},computed:{isMobile(){return window.innerWidth<=991},poleListFormat(){const e=[];return this.poles.map((t=>{e.push({label:t.name,value:t.id})})),e}}},k=o(89);const P=(0,k.Z)(_,[["render",v],["__scopeId","data-v-084d7292"]]);var I=P,C=o(322),D=o(809);const L={getPolesByCountry(e){try{return D.Z.checkLogin(`/poles/by-country/${e}`).then((e=>{const t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};for(let o of e.data)t.push({id:o.id,name:o.alias,active:!1});return t}))}catch(t){console.log(t)}}};var M=L,S={name:"HotelsComp",components:{Searcher:f.Z,PoleList:I,ProductListTemplate:C.Z},data(){return{product:"",country:"",loading:!1,nohotel:!1,poles:[],product_list:[],pole:""}},created(){M.getPolesByCountry(51).then((e=>{this.poles=e,this.poles[0].active=!0,this.search(this.poles[0].id),this.pole=this.poles[0].name,this.product=this.$route.params.productKey,this.country=this.$route.params.poleKey}))},methods:{getPoleInfo(e){this.nohotel=!1,this.loading=!1,this.product_list=[],this.poles.map((t=>{t.active=t.id==e})),this.search(e)},search(e){this.loading=!0,D.Z.checkLogin(`/hotels/by-pole/${e}`).then((e=>{if(this.loading=!1,e)if(e.data){this.product_list=e.data,this.product_list.map((e=>{e.image=o(6697),e.segment={name:"playa",img:o(4594)}}));for(let e of this.product_list)if(e.images){const t=this.getMainImage(e.images);t.length>0&&(e.image=t[0].url)}}else this.nohotel=!0}))},getMainImage(e,t="original"){const o=e.filter((e=>1==e.order));if(o.length>0){const e=o[0].resources.filter((e=>e.image==t));if(e)return e}return[]}}};const Z=(0,k.Z)(S,[["render",b],["__scopeId","data-v-552a8dd0"]]);var K=Z},6697:function(e,t,o){e.exports=o.p+"img/thumb1.fa214947.png"}}]);
//# sourceMappingURL=200.d51c2a6e.js.map