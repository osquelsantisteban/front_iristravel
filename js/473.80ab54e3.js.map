{"version":3,"file":"js/473.80ab54e3.js","mappings":"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","sources":["webpack://iristravel_v3/./src/views/Product.vue","webpack://iristravel_v3/./src/components/product/PoleList.vue","webpack://iristravel_v3/./src/components/product/PoleList.vue?e579","webpack://iristravel_v3/./src/services/common/pole.service.js","webpack://iristravel_v3/./src/views/Product.vue?0099"],"sourcesContent":["<template>\r\n   <div>\r\n      <section class=\"bg-white\">\r\n         <h2 class=\"text-3xl pt-6 text-blue \r\n         md:text-6xl\r\n         lg:text-4xl\">- {{product}} -</h2>\r\n\r\n         <span class=\"font-Clarissa text-5xl\">{{country}}</span>\r\n\r\n         <!-- BUSCADOR -->\r\n         <searcher />\r\n      </section>\r\n\r\n      <section class=\"bg-white text-white\">\r\n         <!-- <figure>\r\n            <img src=\"@/assets/img/singlepole-top-blue.png\" alt=\"\" />\r\n         </figure> -->\r\n \r\n         <div class=\"bg-blue pb-10\">\r\n            <!-- Listado polo -->\r\n            <pole-list :poles=\"poles\" @poleInfo=\"getPoleInfo\"></pole-list>\r\n\r\n            <!-- Listado de productos por polo -->\r\n            <div class=\"container flex flex-col gap-20 items-center py-10 m-auto\">\r\n               <span class=\"text-3xl\" v-if=\"loading\">\r\n                  <i class=\"fa fa-spinner fa-pulse\"></i>\r\n               </span>\r\n               <span class=\"text-3xl\" v-if=\"nohotel\">\r\n                  No hay hoteles disponibles en el polo\r\n               </span>\r\n               <product-list-template\r\n               v-for=\"(item, index) in product_list\" :key=\"index\"\r\n               :item=\"item\" :index=\"index\" \r\n               :params=\"{\r\n                  poleKey: country,\r\n                  productKey: product\r\n               }\"\r\n               ></product-list-template>\r\n            </div>\r\n         </div>\r\n      </section>\r\n   </div>\r\n</template>\r\n<script>\r\nimport Searcher from \"@/components/searcher/Searcher.vue\";\r\nimport PoleList from '@/components/product/PoleList.vue'\r\nimport ProductListTemplate from '@/components/ProductListTemplate'\r\n\r\nimport PoleService from '@/services/common/pole.service'\r\nimport Authorization from '@/services/user/auth.service'\r\n\r\nexport default {\r\n   name: 'HotelsComp',\r\n   components: {\r\n      Searcher,\r\n      PoleList,\r\n      ProductListTemplate,\r\n   },\r\n   data() {\r\n      return {\r\n         product: '',\r\n         country: '',\r\n         loading: false,\r\n         nohotel: false,\r\n         poles: [],\r\n         product_list: [\r\n            // {\r\n            //    img: require(\"@/assets/img/hotel_thumb/thumb1.png\"),\r\n            //    name: \"Iberostar Laguna Azul\",          \r\n            //    keyword: \"iberostar-lagunaazul\",          \r\n            //    price_from: '59.99',\r\n            //    star: '59.99',\r\n            //    segment: {\r\n            //       name: \"playa\",\r\n            //       img: require(\"@/assets/img/segment/playa.png\")\r\n            //    },       \r\n            // }\r\n         ],\r\n         pole: ''\r\n      }\r\n   },\r\n   created() {\r\n      PoleService.getPolesByCountry(51).then(p => {\r\n         this.poles = p         \r\n         this.poles[0].active = true\r\n         this.search(this.poles[0].id)\r\n         this.pole = this.poles[0].name\r\n         this.product = this.$route.params.productKey\r\n         this.country = this.$route.params.poleKey\r\n      })\r\n   },\r\n   methods: {\r\n      getPoleInfo(pole_id) {\r\n         this.nohotel = false\r\n         this.loading = false\r\n         this.product_list = []\r\n\r\n         this.poles.map(p => {\r\n            p.active = (p.id == pole_id) ? true : false            \r\n         })\r\n\r\n         this.search(pole_id)      \r\n      },      \r\n      search(pole_id) {\r\n         // Get Hotel with price from by pole         \r\n         // Searching by params         \r\n         this.loading = true\r\n         Authorization.checkLogin(`/hotels/by-pole/${pole_id}`).then(e => {                        \r\n            this.loading = false\r\n            if(e) {                             \r\n               if(e.data) {\r\n                  this.product_list = e.data                  \r\n                  this.product_list.map(p => {\r\n                     p.image = require(\"@/assets/img/hotel_thumb/thumb1.png\")\r\n                     p.segment = {\r\n                        name: \"playa\",\r\n                        img: require(\"@/assets/img/segment/playa.png\")\r\n                     }                     \r\n                  })\r\n                  for(let p of this.product_list) {\r\n                     if (p.images) {\r\n                        const img = this.getMainImage(p.images)\r\n                        if(img.length > 0)\r\n                           p.image = img[0].url\r\n                     }\r\n                  }\r\n               } else {\r\n                  this.nohotel = true\r\n               }\r\n               // console.log(this.product_list[17])\r\n            } \r\n         })\r\n      },\r\n      // devualve la url de la imagen principal\r\n      getMainImage(img_list, filter = 'original') {\r\n         const main = img_list.filter(item => item.order == 1);     \r\n         if(main.length > 0) {\r\n            const img = main[0].resources.filter(item => item.image == filter)            \r\n            if(img) \r\n               return img\r\n         }\r\n         return []\r\n      }\r\n   }\r\n   \r\n}\r\n</script>\r\n<style scoped>\r\n   article {\r\n      grid-template-rows: auto auto;\r\n      grid-template-columns: auto;\r\n   }\r\n\r\n   @media screen and (min-width: 768px) {\r\n      article {\r\n         grid-template-columns: 27% auto;  \r\n         grid-template-rows: auto;  \r\n      }      \r\n   }\r\n</style>","<template>\r\n    <div class=\"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto\r\n    md:text-2xl md:w-4/6\">\r\n    <template v-if=\"!isMobile\">\r\n        <button v-for=\"(item, index) in poles\" :key=\"index\"\r\n            :class=\"{'btn-active': (item.active)}\"\r\n            class=\"border-2 border-blue bg-white text-blue rounded-75 px-8\r\n            hover:border-orange hover:bg-orange hover:text-white\"\r\n            @click=\"getPoleInfo(item.id)\">{{item.name}}</button>        \r\n    </template>    \r\n    <template v-if=\"isMobile\">\r\n        <Multiselect\r\n            v-model=\"selectedPole\" \r\n            mode=\"single\"\r\n            :searchable=\"true\"                                               \r\n            :options=\"poleListFormat\"\r\n            placeholder=\"Seleccione destino\"      \r\n            :classes=\"select_style_opt\"\r\n            @select=\"handleSelect\"\r\n            />\r\n        <!-- <model-select :options=\"poleListFormat\" \r\n            v-model=\"selectedPole\"\r\n            placeholder=\"Seleccione destino\"\r\n            class=\"search-select border border-blue rounded-4xl text-darkGray w-3/4 text-xl \"\r\n            >\r\n        </model-select> -->\r\n    </template>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Multiselect from '@vueform/multiselect'\r\nimport '@vueform/multiselect/themes/default.css'\r\n\r\nexport default {\r\n    name: 'PoleList',\r\n    props: {\r\n        poles: [],        \r\n    },\r\n    components: {\r\n        Multiselect\r\n    },\r\n    data() {\r\n        return {   \r\n            select_style_opt: {\r\n                container: 'relative mx-auto w-10/12 flex items-center justify-end box-border cursor-pointer border border-blue rounded-3xl bg-white text-xl text-blue leading-snug outline-none',\r\n                search: 'w-10/12 absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base text-blue font-sans bg-white rounded-3xl pl-2 rtl:pl-0 rtl:pr-3.5',                                                        \r\n                optionSelected: 'text-white bg-lightGray'\r\n            },         \r\n            selectedPole: {\r\n                label: 'La Habana',\r\n                value: 1\r\n            }\r\n        }\r\n    },       \r\n    methods: {        \r\n        getPoleInfo(poleId) {            \r\n            this.$emit('poleInfo', poleId)\r\n        },\r\n        handleSelect(pole_id) {\r\n            if(pole_id != this.selectedPole.value)\r\n                this.getPoleInfo(pole_id)\r\n        }\r\n    },\r\n    computed: {\r\n        isMobile() {\r\n            return window.innerWidth <= 991\r\n        },\r\n        poleListFormat() {\r\n            const formated_poles = []\r\n            this.poles.map(pole => {\r\n                formated_poles.push({label: pole.name, value: pole.id})\r\n            })\r\n            // this.selectedPole = formated_poles[0]\r\n            return formated_poles\r\n        }        \r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .btn-active{\r\n      border-color: var(--orange) !important;\r\n      background-color: var(--orange) !important;\r\n      color: white !important;\r\n   }\r\n</style>","import { render } from \"./PoleList.vue?vue&type=template&id=084d7292&scoped=true\"\nimport script from \"./PoleList.vue?vue&type=script&lang=js\"\nexport * from \"./PoleList.vue?vue&type=script&lang=js\"\n\nimport \"./PoleList.vue?vue&type=style&index=0&id=084d7292&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Pool\\\\Freelance\\\\iristtravel\\\\others\\\\iristravel_v3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-084d7292\"]])\n\nexport default __exports__","import Authorization from \"../user/auth.service\";\r\n\r\nconst CountryService = {\r\n    getPolesByCountry(countryid) {\r\n        try {\r\n            return Authorization.checkLogin(`/poles/by-country/${countryid}`).then(res => {\r\n                const list = []\r\n                if (res.status == 200) {\r\n                    for (let item of res.data) {\r\n                        list.push({\r\n                            id: item.id,\r\n                            name: item.alias,\r\n                            active: false\r\n                        })\r\n                    }\r\n                } else //! Fail check login\r\n                {\r\n                    return {\r\n                        success: false,\r\n                        errors: 'Fail check login'\r\n                    }\r\n                }\r\n                return list\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    },    \r\n    \r\n}\r\n\r\nexport default CountryService","import { render } from \"./Product.vue?vue&type=template&id=552a8dd0&scoped=true\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\n\nimport \"./Product.vue?vue&type=style&index=0&id=552a8dd0&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Pool\\\\Freelance\\\\iristtravel\\\\others\\\\iristravel_v3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-552a8dd0\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","$data","_hoisted_3","_createVNode","_component_searcher","_hoisted_4","_hoisted_5","_component_pole_list","poles","onPoleInfo","$options","_hoisted_6","_hoisted_7","_hoisted_10","_Fragment","item","index","_createBlock","_component_product_list_template","key","params","$props","active","onClick","id","name","_component_Multiselect","mode","searchable","options","placeholder","classes","onSelect","props","components","Multiselect","data","select_style_opt","container","search","optionSelected","selectedPole","label","value","methods","getPoleInfo","poleId","this","$emit","handleSelect","pole_id","computed","isMobile","window","innerWidth","poleListFormat","formated_poles","map","pole","push","__exports__","CountryService","getPolesByCountry","countryid","Authorization","then","res","list","status","success","errors","alias","e","console","log","Searcher","PoleList","ProductListTemplate","product","country","loading","nohotel","product_list","created","PoleService","p","$route","productKey","poleKey","image","require","segment","img","images","getMainImage","length","url","img_list","filter","main","order","resources","render"],"sourceRoot":""}